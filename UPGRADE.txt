Textpattern CMS 4.8.4

== Upgrade ==

Table of Contents
  
#
  
-- Preflight --

* Ensure the server meets or exceeds the system requirements for the upgrade
  release:
    https://textpattern.com/system-requirements
* Ensure the database user permissions meet the system requirements.
* Refer to the release notes in HISTORY.txt, including changes made since the
  Textpattern version of the site to be upgraded. Ensure you understand any
  changes that may affect your site. Seek advice or assistance before you begin
  the upgrade process
  Note: refer to the resources at the end of this file for further details.
* Log out of the Textpattern site to be upgraded.
* Clear the browser cache for the Textpattern site to be upgraded.
* Verify the existence of a known-good Textpattern database and file backup.


- Legacy Upgrades -

* Textpattern <4.2.0 should be upgraded to 4.2.0 before subsequent upgrades.
  Upgrades from <4.2.0 will present warnings and/or errors upon the first login
  to the admin-side. These may include:
    Unknown column 'user_name' in 'where clause' select name,
    val from txp_prefs where prefs_id=1 AND user_name='' in
    /path/to/your/site/textpattern/lib/txplib_db.php on line xx
    Undefined variable: language in
    /path/to/your/site/textpattern/index.php at line xx
    Undefined variable: gmtoffset in
    /path/to/your/site/textpattern/update/_to_4.2.0.php at line xx
  This is expected, harmless behaviour. The messages will be not appear after
  subsequent navigation in the admin-side.
* Upgrades from <4.7.0 may present an 'Unknown section' message on the
  front-side after upgraded files have been transferred and before the first
  admin-side log in. The message will disappear following the first log in
  when the upgrade scripts are run.

-- Upgrading --

* Replace the top-level index.php, css.php and .htaccess files (if Textpattern
  is running on an Apache or derivative web server), everything in the /rpc/
  directory and everything in the /textpattern/ directory (except
  /textpattern/config.php and the /textpattern/setup/ directory) with the
  corresponding files in this distribution. In addition, ensure the /themes/
  directory exists if it is not already there, and is writable.
  When uploading the /textpattern/ directory, ensure you preserve any custom
  files in your existing installation. Also ensure the /textpattern/plugins
  directory is writable.
  Note: css.php and /rpc/ may not exist if the installed version of
  Textpattern is prior to 4.2.0.
* Log in to the Textpattern admin-side. The upgrade script(s) will run
  automatically. Check the site diagnostics (Admin -> Diagnostics) to confirm
  the correct Textpattern version number is displayed and whether there are any
  errors.
* Verify all preference settings (Admin -> Preferences).


== Resources ==

* Website:       https://textpattern.com/
* Support forum: https://forum.textpattern.com
* Documentation: https://docs.textpattern.com

* Social:        https://textpattern.com/twitter

* Development:   https://textpattern.com/github
* Contributing:  https://docs.textpattern.com/development/contributing

* Sponsor:       https://github.com/sponsors/textpattern
                 https://opencollective.com/textpattern-collective
* Donate:        https://textpattern.com/about/patrons
